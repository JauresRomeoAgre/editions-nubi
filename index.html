<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>√âditions Nubi ‚Äì Des histoires pour grandir</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="D√©couvrez Nubi, le petit nuage qui apprend √† avoir confiance en lui. Un album jeunesse illustr√© par les √âditions Nubi.">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      /* Palette Disney / Douceur */
      --bleu-ciel: #8ec5fc;
      --bleu-profond: #2b5876; 
      --rose-doux: #ffd6e8;
      --jaune-soleil: #ffeb3b; 
      --blanc-creme: #fdfbf7;
      --texte: #4a4a4a;
      --texte-fonce: #2c3e50;
      --accent: #ff6b6b; /* Pour les boutons d'action */
      --ombre-douce: 0 10px 30px rgba(130, 150, 200, 0.15);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Nunito', sans-serif; /* Police tr√®s lisible pour le corps */
      background: var(--blanc-creme);
      color: var(--texte);
      line-height: 1.7;
      overflow-x: hidden;
    }

    h1, h2, h3, h4, .btn-order, .logo {
      font-family: 'Fredoka', sans-serif; /* Police ronde pour les titres */
    }

    /* --- HEADER & NAV --- */
    header {
      background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
      padding: 0 0 4rem;
      position: relative;
    }

    /* Forme de nuage en bas du header (s√©parateur) */
    .wave-separator {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      overflow: hidden;
      line-height: 0;
      transform: rotate(180deg);
    }
    .wave-separator svg {
      position: relative;
      display: block;
      width: calc(138% + 1.3px);
      height: 60px;
    }
    .wave-separator .shape-fill {
      fill: var(--blanc-creme);
    }

    .wrapper {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 1.5rem;
      position: relative;
      z-index: 10;
    }

    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem 0;
      margin-bottom: 2rem;
    }

    nav .logo {
      font-weight: 700;
      font-size: 1.5rem;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
      letter-spacing: 0.5px;
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 1.5rem;
    }

    nav a {
      color: #fff;
      text-decoration: none;
      font-weight: 700;
      font-size: 1rem;
      transition: opacity 0.3s;
    }
    nav a:hover { opacity: 0.8; }

    /* --- HERO SECTION --- */
    .hero {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: center;
      padding-bottom: 3rem;
    }

    .hero-text h1 {
      font-size: clamp(2.2rem, 4vw, 3.2rem);
      line-height: 1.2;
      margin-bottom: 1rem;
      color: var(--texte-fonce);
    }
    
    .hero-text .subtitle {
      font-size: 1.2rem;
      color: #4a6fa5;
      font-weight: 600;
      margin-bottom: 1.5rem;
    }

    .hero-text p {
      font-size: 1.1rem;
      margin-bottom: 2rem;
      color: #556;
    }

    .hero-book {
      background: rgba(255,255,255,0.7);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 20px;
      box-shadow: var(--ombre-douce);
      text-align: center;
      transform: rotate(2deg); /* Petit effet ludique */
      transition: transform 0.3s;
    }
    .hero-book:hover { transform: rotate(0deg) scale(1.02); }

    .hero-cover {
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(0,0,0,0.2);
      margin-bottom: 1rem;
    }
    .hero-cover img { width: 100%; height: auto; display: block; }

    /* BOUTONS */
    .btn-order {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: var(--accent);
      color: white;
      padding: 1rem 2rem;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 700;
      font-size: 1.1rem;
      box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
      transition: transform 0.2s, box-shadow 0.2s;
      border: none;
      cursor: pointer;
    }
    .btn-order:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255, 107, 107, 0.5);
    }
    .btn-secondary {
      background: transparent;
      color: var(--bleu-profond);
      border: 2px solid var(--bleu-profond);
      padding: 0.8rem 1.5rem;
      border-radius: 50px;
      text-decoration: none;
      font-weight: 700;
      margin-left: 10px;
    }
    .btn-secondary:hover { background: rgba(255,255,255,0.3); }

    /* --- SECTIONS G√âN√âRALES --- */
    section { padding: 5rem 0; }
    
    .section-title {
      text-align: center;
      margin-bottom: 3rem;
    }
    .section-title h2 {
      font-size: 2.2rem;
      color: var(--texte-fonce);
      margin-bottom: 0.5rem;
    }
    .section-title p {
      color: #777;
      font-size: 1.1rem;
    }
    
    .card {
      background: #fff;
      border-radius: 15px;
      padding: 2rem;
      box-shadow: var(--ombre-douce);
      transition: transform 0.3s;
    }
    .card:hover { transform: translateY(-5px); }

    /* --- HISTOIRE & PERSONNAGES --- */
    .story-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: center;
    }
    .story-content h3 { color: var(--bleu-profond); font-size: 1.5rem; margin-bottom: 1rem; }
    
    .characters-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    .char-card {
      text-align: center;
      background: #f0f7ff;
      padding: 1rem;
      border-radius: 12px;
    }
    .char-icon { font-size: 2.5rem; margin-bottom: 0.5rem; display: block; }
    .char-name { font-weight: 700; color: var(--bleu-profond); display: block;}
    .char-desc { font-size: 0.85rem; color: #666; line-height: 1.4; }

    /* --- TH√àMES (B√âN√âFICES) --- */
    .bg-soft { background: #f9fcff; }
    
    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
    }
    .benefit-item {
      text-align: center;
      padding: 1rem;
    }
    .benefit-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      display: inline-block;
      background: #fff;
      width: 80px;
      height: 80px;
      line-height: 80px;
      border-radius: 50%;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    .benefit-item h3 { font-size: 1.2rem; margin-bottom: 0.5rem; }

    /* --- CARACT√âRISTIQUES --- */
    .tech-specs {
      background: var(--bleu-profond);
      color: #fff;
      border-radius: 20px;
      padding: 3rem;
      margin-top: 3rem;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      gap: 2rem;
    }
    .tech-item { text-align: center; }
    .tech-label { font-size: 0.9rem; opacity: 0.8; display: block; margin-bottom: 0.3rem; text-transform: uppercase; letter-spacing: 1px;}
    .tech-val { font-size: 1.4rem; font-weight: 700; font-family: 'Fredoka', sans-serif;}

    /* --- AUTEUR & COLLECTION --- */
    .author-section {
      background: #fff5f8; /* Rose tr√®s p√¢le */
    }
    .author-box {
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
    }
    .collection-preview {
      margin-top: 3rem;
      padding: 2rem;
      border: 2px dashed #e0e0e0;
      border-radius: 15px;
      text-align: center;
    }
    .collection-tags span {
      display: inline-block;
      background: #eee;
      padding: 0.4rem 0.8rem;
      border-radius: 30px;
      margin: 0.3rem;
      font-size: 0.9rem;
      font-weight: 600;
      color: #555;
    }

    /* --- FORMULAIRE COMMANDE --- */
    .form-wrapper {
      max-width: 750px;
      margin: 0 auto;
      background: #fff;
      border-radius: 20px;
      padding: 2.5rem;
      box-shadow: 0 15px 40px rgba(0,0,0,0.08);
      border: 1px solid #eee;
    }
    
    .form-section-title {
      font-family: 'Fredoka', sans-serif;
      margin-top: 2rem;
      margin-bottom: 1rem;
      font-size: 1.3rem;
      color: var(--bleu-profond);
      border-bottom: 2px solid #f0f7ff;
      padding-bottom: 0.5rem;
    }
    
    label { display: block; margin-top: 1rem; margin-bottom: 0.4rem; font-weight: 700; color: #444; font-size: 0.95rem; }
    select, input {
      width: 100%;
      padding: 0.8rem 1rem;
      border-radius: 8px;
      border: 2px solid #e1e5ee;
      font-family: 'Nunito', sans-serif;
      font-size: 1rem;
      background: #fdfdfd;
      transition: border-color 0.2s;
    }
    select:focus, input:focus {
      border-color: var(--bleu-ciel);
      outline: none;
      background: #fff;
    }
    
    /* Boutons WhatsApp/Email */
    .btn-action {
      flex: 1;
      padding: 1rem;
      border-radius: 10px;
      border: none;
      color: white;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      transition: opacity 0.2s;
    }
    .btn-whatsapp { background: #25D366; }
    .btn-email { background: #EA4335; }
    .btn-action:hover { opacity: 0.9; }

    .hidden { display: none; }
    
    /* --- FOOTER --- */
    footer {
      background: var(--bleu-profond);
      color: white;
      text-align: center;
      padding: 3rem 1.5rem;
      margin-top: 4rem;
    }
    footer a { color: var(--bleu-ciel); text-decoration: none; }
    
    /* --- RESPONSIVE --- */
    @media (max-width: 768px) {
      .hero { grid-template-columns: 1fr; text-align: center; }
      .hero-text h1 { font-size: 2.2rem; }
      .hero-book { max-width: 350px; margin: 0 auto; transform: none; }
      .story-grid { grid-template-columns: 1fr; }
      nav { flex-direction: column; gap: 1rem; }
      .tech-specs { flex-direction: column; gap: 1.5rem; }
    }
  </style>
</head>
<body>

<header id="top">
  <div class="wrapper">
    <nav>
      <div class="logo">‚òÅÔ∏è √âditions Nubi</div>
      <ul>
        <li><a href="#histoire">L'Histoire</a></li>
        <li><a href="#pedagogie">Th√®mes</a></li>
        <li><a href="#auteur">L'Auteur</a></li>
        <li><a href="#commande" class="btn-order" style="padding: 0.5rem 1.2rem; font-size: 0.9rem;">Commander</a></li>
      </ul>
    </nav>

    <div class="hero">
      <div class="hero-text">
        <h1>Transformez la peur en super-pouvoir.</h1>
        <div class="subtitle">Un conte po√©tique sur la confiance en soi.</div>
        <p>
          <strong>Nubi</strong> est un petit nuage pas comme les autres : il a peur de pleuvoir. 
          Une histoire tendre et lumineuse pour apprendre √† votre enfant que m√™me ses √©motions les plus timides peuvent faire fleurir le monde.
        </p>
        <div style="margin-top: 2rem;">
          <a href="#commande" class="btn-order">Commander le livre</a>
          <a href="#histoire" class="btn-secondary">Lire le r√©sum√©</a>
        </div>
      </div>

      <div class="hero-book">
        <div style="font-weight: 700; color: #d35400; margin-bottom: 0.5rem; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px;">‚ú® Nouvelle Sortie</div>
        <div class="hero-cover">
          <img src="ImageNubi.png" alt="Couverture du livre Nubi" />
        </div>
        <h3 style="margin: 1rem 0 0.5rem; color: var(--texte-fonce);">Le Petit Nuage qui avait peur de pleuvoir</h3>
        <p style="font-size: 0.9rem; margin-bottom: 0;">Album Jeunesse (3-7 ans)</p>
      </div>
    </div>
  </div>
  
  <div class="wave-separator">
      <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
          <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
      </svg>
  </div>
</header>

<section id="histoire">
  <div class="wrapper">
    <div class="section-title">
      <h2>Il √©tait une fois...</h2>
      <p>Une aventure douce au c≈ìur du ciel</p>
    </div>
    
    <div class="story-grid">
      <div class="story-content">
        <h3>L'Histoire</h3>
        <p>Nubi √©tait le plus petit nuage du ciel. Il flottait doucement, loin derri√®re les autres, car il avait un grand secret : <strong>il avait peur de pleuvoir.</strong></p>
        <p>Chaque fois qu‚Äôune goutte pointait, il paniquait et se cachait. "Et si les gens me trouvaient emb√™tant ?"</p>
        <p>Mais un jour, les fleurs du pr√©, assoiff√©es, appellent √† l'aide. Nubi devra puiser dans son courage pour d√©couvrir que ce qu'il croyait √™tre une faiblesse est en r√©alit√© <strong>son plus beau cadeau au monde.</strong></p>
        
        <div class="card" style="margin-top: 1.5rem; background: #fffcf0; border-left: 4px solid var(--jaune-soleil);">
          <strong>‚≠ê Moralit√© :</strong> Ne cache jamais ce que tu es. Ce que tu crois √™tre une faiblesse peut √™tre un tr√©sor pour les autres.
        </div>
      </div>
      
      <div class="characters-column">
        <h3>Les Personnages</h3>
        <div class="characters-list">
          <div class="char-card">
            <span class="char-icon">‚òÅÔ∏è</span>
            <span class="char-name">Nubi</span>
            <span class="char-desc">Le petit nuage timide et gentil.</span>
          </div>
          <div class="char-card">
            <span class="char-icon">‚òÄÔ∏è</span>
            <span class="char-name">Soleila</span>
            <span class="char-desc">Le soleil bienveillant qui conseille.</span>
          </div>
          <div class="char-card">
            <span class="char-icon">üí®</span>
            <span class="char-name">Ventounet</span>
            <span class="char-desc">Le vent doux et tr√®s joueur.</span>
          </div>
          <div class="char-card">
            <span class="char-icon">üå∑</span>
            <span class="char-name">Les Fleurs</span>
            <span class="char-desc">Rosea, Bleuvette et Jaunon.</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="pedagogie" class="bg-soft">
  <div class="wrapper">
    <div class="section-title">
      <h2>Pourquoi ce livre pour votre enfant ?</h2>
      <p>Bien plus qu'une histoire, un outil pour grandir.</p>
    </div>

    <div class="benefits-grid">
      <div class="benefit-item">
        <span class="benefit-icon">ü¶Å</span>
        <h3>Confiance en Soi</h3>
        <p>Nubi montre √† l'enfant qu'on a le droit d'√™tre timide, et que chacun a un r√¥le unique √† jouer dans le monde.</p>
      </div>
      <div class="benefit-item">
        <span class="benefit-icon">üíß</span>
        <h3>Gestion des √âmotions</h3>
        <p>D√©dramatiser les pleurs. L'histoire explique avec po√©sie que pleurer n'est pas "nul", c'est parfois n√©cessaire et lib√©rateur.</p>
      </div>
      <div class="benefit-item">
        <span class="benefit-icon">üé®</span>
        <h3>√âveil Visuel</h3>
        <p>Des illustrations color√©es, style animation, pens√©es pour captiver l'attention des tout-petits d√®s 3 ans.</p>
      </div>
    </div>
    
    <div class="tech-specs">
      <div class="tech-item">
        <span class="tech-label">Format</span>
        <span class="tech-val">21 x 27 cm</span>
      </div>
      <div class="tech-item">
        <span class="tech-label">Pages</span>
        <span class="tech-val">40 Pages</span>
      </div>
      <div class="tech-item">
        <span class="tech-label">Couverture</span>
        <span class="tech-val">Cartonn√©e</span>
      </div>
      <div class="tech-item">
        <span class="tech-label">√Çge Conseill√©</span>
        <span class="tech-val">3 - 7 ans</span>
      </div>
    </div>
  </div>
</section>

<section id="auteur" class="author-section">
  <div class="wrapper">
    <div class="author-box">
      <h2>√Ä propos de l'Auteur</h2>
      <p class="lead" style="font-size: 1.1rem; margin-top: 1rem;">
        Passionn√© par la cr√©ation de mondes imaginaires et l'√©ducation positive, je con√ßois des histoires qui sont bien plus que des livres : ce sont des outils pour dialoguer avec les enfants.
      </p>
      <p>Avec les <strong>√âditions Nubi</strong>, mon objectif est d'accompagner les petits √† travers leurs grandes √©motions avec douceur et magie.</p>
    
      <div class="collection-preview">
        <h4>üìö Bient√¥t dans la collection "Les Petites √âmotions"</h4>
        <p>Parce que grandir est une aventure, d'autres histoires arrivent pour explorer :</p>
        <div class="collection-tags">
          <span>üê¢ L'Impatience</span>
          <span>ü¶ä L'Imprudence</span>
          <span>üêò La Col√®re</span>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="commande">
  <div class="wrapper">
    <div class="section-title">
      <h2>Commander le livre</h2>
      <p>Configurez votre commande ci-dessous. Paiement s√©curis√© √† la livraison ou via mobile money selon votre zone.</p>
    </div>

    <div class="form-wrapper">
      <form id="commandeForm">
        
        <div class="form-section-title">üåç O√π habitez-vous ?</div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
          <div>
            <label for="region">R√©gion</label>
            <select id="region" name="region">
              <option value="">Choisissez une r√©gion</option>
              <option value="afrique">Afrique</option>
              <option value="europe">Europe</option>
              <option value="amerique">Am√©rique</option>
              <option value="asie">Asie</option>
            </select>
          </div>
          <div>
            <label for="pays">Pays</label>
            <select id="pays" name="pays">
              <option value="">Choisissez d‚Äôabord une r√©gion</option>
            </select>
          </div>
        </div>

        <div id="zone-ci-block" class="hidden" style="margin-top: 1rem; background: #f0f7ff; padding: 1rem; border-radius: 8px;">
          <label for="zoneCI">Zone (C√¥te d‚ÄôIvoire)</label>
          <select id="zoneCI" name="zoneCI">
            <option value="">Choisissez une zone</option>
            <option value="Abidjan">Abidjan</option>
            <option value="Bingerville">Bingerville</option>
            <option value="Dabou">Dabou</option>
            <option value="Interieur">Int√©rieur du pays</option>
          </select>
          <div id="ville-interieur-block" style="margin-top:0.5rem;" class="hidden">
            <label for="villeInterieur">Ville (int√©rieur)</label>
            <input type="text" id="villeInterieur" name="villeInterieur" placeholder="Nom de la ville" />
          </div>
        </div>

        <div class="form-section-title">üë§ Vos informations</div>
        
        <label for="statut">Vous √™tes‚Ä¶</label>
        <select id="statut" name="statut">
          <option value="">Choisissez un statut</option>
          <option value="parent">Parent</option>
          <option value="psy">Psychologue pour enfants</option>
          <option value="librairie">Librairie</option>
          <option value="bibliotheque">Biblioth√®que</option>
          <option value="ecole">√âcole</option>
          <option value="autre">Autre</option>
        </select>

        <div id="identite-block" class="hidden">
          
          <div id="type-ecole-block" class="hidden">
             <label for="typeEcole">Type d'√©cole</label>
             <select id="typeEcole">
               <option value="">Selectionnez...</option>
               <option value="Maternelle">Maternelle</option>
               <option value="Primaire">Primaire</option>
             </select>
          </div>

          <div id="structure-block" class="hidden">
              <label for="nomStructure" id="lbl-structure">Nom de l'√©tablissement</label>
              <input type="text" id="nomStructure" placeholder="" />
          </div>

          <div style="display:flex; gap:1rem; align-items:flex-end; flex-wrap:wrap; margin-top: 1rem;">
              <div style="flex:1; min-width:100px;">
                  <label for="genre">Civilit√©</label>
                  <select id="genre">
                      <option value="">Choix...</option>
                      <option value="Monsieur">M.</option>
                      <option value="Madame">Mme</option>
                      <option value="Mademoiselle">Mlle</option>
                  </select>
              </div>
              <div style="flex:2; min-width:180px;">
                  <label for="nomFamille">Nom</label>
                  <input type="text" id="nomFamille" />
              </div>
          </div>
          <label for="prenoms">Pr√©nom(s)</label>
          <input type="text" id="prenoms" />

          <div id="poste-block" class="hidden">
              <label for="poste">Poste occup√©</label>
              <select id="poste"></select>
              <div id="poste-perso-block" class="hidden" style="margin-top:0.5rem;">
                  <input type="text" id="posteAutre" placeholder="Pr√©cisez votre poste..." />
              </div>
          </div>

          <label for="adresse" id="lbl-adresse">Adresse de livraison</label>
          <input type="text" id="adresse" placeholder="Quartier, Rue, N¬∞ de porte..." />

          <label for="contactTel">T√©l√©phone / WhatsApp</label>
          <div style="display:flex; gap:0.5rem; align-items:center;">
            <span id="indicatif" style="background:#e1e5ee; padding:0.8rem; border-radius:8px; font-weight:bold; color:#555;">+225</span>
            <input type="tel" id="contactTel" placeholder="Num√©ro" />
          </div>

          <label for="emailContact" id="lbl-email">E-mail</label>
          <input type="email" id="emailContact" placeholder="votre@email.com" />
        </div>

        <div class="form-section-title">üì¶ D√©tails de la commande</div>

        <label for="livre">Livre s√©lectionn√©</label>
        <select id="livre" name="livre" style="background-color: #f0f7ff; color: #2b5876; font-weight: bold;">
          <option value="Le Petit Nuage Qui Avait Peur de Pleuvoir">Le Petit Nuage Qui Avait Peur de Pleuvoir</option>
        </select>

        <div id="quantite-block">
          <label for="quantite">Quantit√©</label>
          <select id="quantite" name="quantite">
               <option value="">Remplissez d'abord votre statut</option>
          </select>
          <div id="quantite-pers-block" class="hidden" style="margin-top:0.5rem;">
            <label for="quantitePerso">Quantit√© personnalis√©e</label>
            <input type="number" id="quantitePerso" min="1" step="1" />
          </div>
        </div>

        <div style="margin-top:1.5rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
          <div>
            <label for="devise">Devise</label>
            <select id="devise" name="devise">
              <option value="">Devise</option>
              <option value="EUR">Euro (‚Ç¨)</option>
              <option value="USD">Dollar ($)</option>
              <option value="XOF">Franc CFA</option>
            </select>
          </div>
          <div>
            <label for="total">Total HT</label>
            <input type="text" id="total" readonly style="background-color: #2b5876; color: white; font-weight: bold; border: none;" />
          </div>
        </div>

        <div style="margin-top:2.5rem; border-top: 2px dashed #eee; padding-top: 1.5rem;">
          <p style="text-align: center; margin-bottom: 1rem; font-weight: 600;">Envoyer ma commande via :</p>
          <div style="display: flex; gap: 1rem;">
              <button type="button" id="btnWhatsapp" class="btn-action btn-whatsapp">
                 WhatsApp
              </button>
              <button type="button" id="btnEmail" class="btn-action btn-email">
                 E-mail
              </button>
          </div>
        </div>

        <p id="msgInfo" style="margin-top:1rem; font-size:0.85rem; color:#d9534f; text-align: center;"></p>
      </form>

      <div id="confirmationCard" class="card hidden" style="text-align:center; padding: 3rem;">
        <div style="font-size: 3rem;">üéâ</div>
        <h3 style="color: var(--bleu-profond); margin-top: 1rem;">Merci pour votre commande !</h3>
        <p id="confirmationTexte" style="margin: 1rem 0; color: #666;"></p>
        <a href="#top" class="btn-order" style="margin-top:1rem; display:inline-block;">Retour √† l‚Äôaccueil</a>
      </div>
    </div>
  </div>
</section>

<section id="contact" style="background: #fff;">
  <div class="wrapper" style="text-align: center;">
    <h2>Une question ?</h2>
    <p>Nous sommes l√† pour vous r√©pondre.</p>
    <div style="margin-top: 1.5rem; font-size: 1.1rem;">
      <p style="margin-bottom: 0.5rem;">üìß <a href="mailto:contact@editionsnubi.com" style="color: var(--bleu-profond); font-weight: 700;">contact@editionsnubi.com</a></p>
      <p>üìû <a href="tel:+2250709850776" style="color: var(--bleu-profond); font-weight: 700;">+225 07 09 85 07 76</a></p>
    </div>
  </div>
</section>

<footer>
  <div class="wrapper">
    <p>¬© <span id="year"></span> √âditions Nubi ‚Äî Tous droits r√©serv√©s.</p>
    <p style="font-size: 0.8rem; opacity: 0.7; margin-top: 0.5rem;">Cr√©√© avec amour pour les enfants du monde.</p>
  </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
  
  // --- HELPERS ---
  function el(id) { return document.getElementById(id); }
  function show(id) { const e = el(id); if(e) e.classList.remove('hidden'); }
  function hide(id) { const e = el(id); if(e) e.classList.add('hidden'); }

  // --- CONFIGURATION ---
  const yearSpan = el('year');
  if(yearSpan) yearSpan.textContent = new Date().getFullYear();

  const EMAIL_DESTINATION = "contact@editionsnubi.com";
  const WHATSAPP_DESTINATION = "2250709850776";

  const paysParRegion = {
    afrique: ["C√¥te d'Ivoire", "S√©n√©gal", "Mali", "Burkina Faso", "Togo", "B√©nin", "Guin√©e", "Cameroun", "Congo", "RDC", "Maroc", "Alg√©rie", "Tunisie"],
    europe: ["France", "Belgique", "Suisse", "Allemagne", "Espagne", "Italie", "Portugal", "Pays-Bas"],
    amerique: ["Canada", "√âtats-Unis", "Br√©sil", "Mexique"],
    asie: ["Chine", "Japon", "Inde", "Cor√©e du Sud", "√âmirats Arabes Unis"]
  };

  const configTel = {
    "C√¥te d'Ivoire": { code: "+225", len: 10 }, "S√©n√©gal": { code: "+221", len: 9 }, "Mali": { code: "+223", len: 8 }, 
    "Burkina Faso": { code: "+226", len: 8 }, "Togo": { code: "+228", len: 8 }, "B√©nin": { code: "+229", len: 8 }, 
    "Guin√©e": { code: "+224", len: 9 }, "Cameroun": { code: "+237", len: 9 }, "Congo": { code: "+242", len: 9 }, 
    "RDC": { code: "+243", len: 9 }, "Maroc": { code: "+212", len: 9 }, "Alg√©rie": { code: "+213", len: 9 }, "Tunisie": { code: "+216", len: 8 },
    "France": { code: "+33", len: 10 }, "Belgique": { code: "+32", len: 9 }, "Suisse": { code: "+41", len: 9 }, 
    "Allemagne": { code: "+49", len: 10 }, "Espagne": { code: "+34", len: 9 }, "Italie": { code: "+39", len: 10 }, 
    "Portugal": { code: "+351", len: 9 }, "Pays-Bas": { code: "+31", len: 9 },
    "Canada": { code: "+1", len: 10 }, "√âtats-Unis": { code: "+1", len: 10 }, "Br√©sil": { code: "+55", len: 11 }, 
    "Mexique": { code: "+52", len: 10 }, "Chine": { code: "+86", len: 11 }, "Japon": { code: "+81", len: 10 }, 
    "Inde": { code: "+91", len: 10 }, "Cor√©e du Sud": { code: "+82", len: 10 }, "√âmirats Arabes Unis": { code: "+971", len: 9 }
  };

  // Options pour les postes
  const postesConfig = {
      librairie: ["G√©rant(e)", "Responsable Rayon Jeunesse", "Vendeur / Vendeuse", "Acheteur / Acheteuse", "personnaliser"],
      bibliotheque: ["Directeur / Directrice", "Biblioth√©caire", "Responsable Section Jeunesse", "B√©n√©vole", "personnaliser"],
      ecoleMaternelle: ["Directeur / Directrice", "Instituteur / Institutrice", "ATSEM", "Membre APE", "personnaliser"],
      ecolePrimaire: ["Directeur / Directrice", "Instituteur / Institutrice", "Documentaliste", "Membre APE", "personnaliser"]
  };

  // --- LOGIQUE REGION / PAYS ---
  const regionSelect = el('region');
  const paysSelect = el('pays');
  
  if(regionSelect && paysSelect) {
      regionSelect.addEventListener('change', () => {
        const region = regionSelect.value;
        paysSelect.innerHTML = '<option value="">Choisissez un pays</option>';
        hide('zone-ci-block'); hide('ville-interieur-block');
        
        if (region && paysParRegion[region]) {
          paysParRegion[region].forEach(p => {
            const opt = document.createElement('option');
            opt.value = p; opt.textContent = p;
            paysSelect.appendChild(opt);
          });
        }
      });

      paysSelect.addEventListener('change', () => {
        const pays = paysSelect.value;
        // Gestion Zone CI
        if (regionSelect.value === 'afrique' && pays === "C√¥te d'Ivoire") show('zone-ci-block');
        else { hide('zone-ci-block'); hide('ville-interieur-block'); }

        // Gestion Indicatif T√©l√©phone
        const conf = configTel[pays] || { code: "+", len: 0 };
        const indicatif = el('indicatif');
        const contactTel = el('contactTel');
        if(indicatif) indicatif.textContent = conf.code;
        if(contactTel) {
            contactTel.value = "";
            contactTel.placeholder = conf.len > 0 ? `Num√©ro (${conf.len} chiffres)` : "Num√©ro de t√©l√©phone";
            if(conf.len > 0) contactTel.setAttribute('maxlength', conf.len);
            else contactTel.removeAttribute('maxlength');
        }
      });
  }

  const zoneCISelect = el('zoneCI');
  if(zoneCISelect) {
      zoneCISelect.addEventListener('change', () => {
          if(zoneCISelect.value === 'Interieur') show('ville-interieur-block');
          else hide('ville-interieur-block');
      });
  }

  // --- LOGIQUE STATUT ET CHAMPS DYNAMIQUES ---
  const statutSelect = el('statut');
  
  function updateFormFields() {
      if(!statutSelect) return;
      const st = statutSelect.value;
      
      // Reset visibilit√©
      hide('identite-block');
      hide('structure-block');
      hide('type-ecole-block');
      hide('poste-block');
      
      const lblAdresse = el('lbl-adresse');
      const lblEmail = el('lbl-email');
      const lblStructure = el('lbl-structure');
      
      if(!st) return; // Si vide

      show('identite-block'); // Affiche le bloc global

      // Textes par d√©faut
      if(lblAdresse) lblAdresse.textContent = "Adresse de livraison";
      if(lblEmail) lblEmail.textContent = "Votre e-mail";

      // Logique sp√©cifique
      if(st === 'parent' || st === 'autre') {
          // Rien de sp√©cial, juste identit√© de base
      } 
      else if (st === 'psy') {
          show('structure-block');
          if(lblStructure) lblStructure.textContent = "Nom du Cabinet";
          if(lblAdresse) lblAdresse.textContent = "Adresse du cabinet";
          if(lblEmail) lblEmail.textContent = "E-mail professionnel";
      }
      else if (st === 'librairie') {
          show('structure-block');
          show('poste-block');
          if(lblStructure) lblStructure.textContent = "Nom de la librairie";
          if(lblAdresse) lblAdresse.textContent = "Adresse de la librairie";
          if(lblEmail) lblEmail.textContent = "E-mail de la librairie";
          fillPosteOptions(postesConfig.librairie);
      }
      else if (st === 'bibliotheque') {
          show('structure-block');
          show('poste-block');
          if(lblStructure) lblStructure.textContent = "Nom de la biblioth√®que";
          if(lblAdresse) lblAdresse.textContent = "Adresse de la biblioth√®que";
          if(lblEmail) lblEmail.textContent = "E-mail de la biblioth√®que";
          fillPosteOptions(postesConfig.bibliotheque);
      }
      else if (st === 'ecole') {
          show('type-ecole-block');
          show('structure-block');
          show('poste-block');
          if(lblStructure) lblStructure.textContent = "Nom de l'√©cole";
          if(lblAdresse) lblAdresse.textContent = "Adresse de l'√©cole";
          if(lblEmail) lblEmail.textContent = "E-mail de l'√©cole";
          // Les options de poste seront mises √† jour quand on choisit le type d'√©cole
          fillPosteOptions([]); 
      }

      majQuantites(); // Met aussi √† jour les choix de quantit√©
  }

  if(statutSelect) statutSelect.addEventListener('change', updateFormFields);

  // Gestion Type Ecole
  const typeEcoleSelect = el('typeEcole');
  if(typeEcoleSelect) {
      typeEcoleSelect.addEventListener('change', () => {
          if(statutSelect.value === 'ecole') {
              if(typeEcoleSelect.value === 'Maternelle') fillPosteOptions(postesConfig.ecoleMaternelle);
              else if(typeEcoleSelect.value === 'Primaire') fillPosteOptions(postesConfig.ecolePrimaire);
              else fillPosteOptions([]);
          }
      });
  }

  // Gestion Poste
  const posteSelect = el('poste');
  function fillPosteOptions(arr) {
      if(!posteSelect) return;
      posteSelect.innerHTML = '<option value="">Selectionnez...</option>';
      arr.forEach(optVal => {
          const opt = document.createElement('option');
          opt.value = optVal;
          opt.textContent = (optVal === 'personnaliser') ? 'Autre (pr√©ciser)...' : optVal;
          posteSelect.appendChild(opt);
      });
  }

  if(posteSelect) {
      posteSelect.addEventListener('change', () => {
          if(posteSelect.value === 'personnaliser') show('poste-perso-block');
          else hide('poste-perso-block');
      });
  }

  // --- LOGIQUE QUANTIT√âS & PRIX ---
  const quantiteSelect = el('quantite');
  const quantitePersInput = el('quantitePerso');
  const deviseSelect = el('devise');
  const totalInput = el('total');

  function majQuantites() {
      if(!quantiteSelect || !statutSelect) return;
      const st = statutSelect.value;
      quantiteSelect.innerHTML = '';
      hide('quantite-pers-block');
      if(quantitePersInput) quantitePersInput.value = '';

      let opts = [];
      // Quantit√©s adapt√©es
      if (['librairie', 'ecole', 'bibliotheque'].includes(st)) {
          opts = ['5','10','20','30','50','personnaliser'];
      } else if (['parent', 'psy', 'autre'].includes(st)) {
          opts = ['1','2','3','5','7','10','personnaliser'];
      } else {
          // Si pas de statut
          const o = document.createElement('option');
          o.text = "Remplissez d'abord votre statut";
          quantiteSelect.add(o);
          return;
      }

      opts.forEach(v => {
          const o = document.createElement('option');
          o.value = v; o.text = (v === 'personnaliser') ? 'Autre quantit√©...' : v;
          quantiteSelect.add(o);
      });
      // Par d√©faut selectionner le premier
      quantiteSelect.selectedIndex = 0;
      calculerTotal();
  }

  if(quantiteSelect) {
      quantiteSelect.addEventListener('change', () => {
          if(quantiteSelect.value === 'personnaliser') show('quantite-pers-block');
          else hide('quantite-pers-block');
          if(quantiteSelect.value !== 'personnaliser' && quantitePersInput) quantitePersInput.value = '';
          calculerTotal();
      });
  }

  if(quantitePersInput) quantitePersInput.addEventListener('input', calculerTotal);
  if(deviseSelect) deviseSelect.addEventListener('change', calculerTotal);

  function getQuantite() {
      if(!quantiteSelect) return 0;
      if(quantiteSelect.value === 'personnaliser') {
          const q = parseInt(quantitePersInput ? quantitePersInput.value : 0);
          return isNaN(q) ? 0 : q;
      }
      return parseInt(quantiteSelect.value || 0);
  }

  function calculerTotal() {
      if(!totalInput || !deviseSelect) return;
      const qte = getQuantite();
      let unit = 0;
      if(deviseSelect.value === 'EUR') unit = 14.49;
      if(deviseSelect.value === 'USD') unit = 16.99;
      if(deviseSelect.value === 'XOF') unit = 10000;

      if(!qte || !unit) { totalInput.value = ''; return; }
      
      const total = qte * unit;
      if(deviseSelect.value === 'XOF') totalInput.value = total.toLocaleString('fr-FR') + ' FCFA';
      else if(deviseSelect.value === 'EUR') totalInput.value = total.toFixed(2).replace('.', ',') + ' ‚Ç¨';
      else totalInput.value = total.toFixed(2) + ' $';
  }

  // --- TRAITEMENT ENVOI ---
  function traiterEnvoi(modeEnvoi) {
      const msgInfo = el('msgInfo');
      const confirmationCard = el('confirmationCard');
      const confirmationTexte = el('confirmationTexte');
      const commandeForm = el('commandeForm');
      
      try {
          if(msgInfo) { msgInfo.textContent = ""; msgInfo.style.color = "#555"; }

          // 1. Validation de base
          const region = regionSelect ? regionSelect.value : '';
          const pays = paysSelect ? paysSelect.value : '';
          if(!region || !pays) throw "Veuillez s√©lectionner la r√©gion et le pays.";

          // Zone CI
          let detailsZone = "";
          if(region === 'afrique' && pays === "C√¥te d'Ivoire") {
              const zone = el('zoneCI').value;
              if(!zone) throw "Veuillez pr√©ciser la zone en C√¥te d'Ivoire.";
              if(zone === 'Interieur') {
                  const ville = el('villeInterieur').value.trim();
                  if(!ville) throw "Veuillez pr√©ciser la ville.";
                  detailsZone = ` / ${ville}`;
              } else {
                  detailsZone = ` / ${zone}`;
              }
          }

          // Statut & Identit√©
          const statut = statutSelect ? statutSelect.value : '';
          if(!statut) throw "Veuillez choisir votre statut.";

          const genre = el('genre').value;
          const nom = el('nomFamille').value.trim();
          const prenoms = el('prenoms').value.trim();
          if(!genre || !nom || !prenoms) throw "Veuillez remplir vos informations d'identit√© (Genre, Nom, Pr√©noms).";

          // Info Structure et Poste
          let infoPro = "";
          const nomStructure = el('nomStructure').value.trim();
          const posteVal = el('poste') ? el('poste').value : '';
          let posteFinal = posteVal === 'personnaliser' ? el('posteAutre').value.trim() : posteVal;

          if(statut === 'ecole') {
              const typeEco = el('typeEcole').value;
              if(!typeEco) throw "Veuillez pr√©ciser Type d'√©cole.";
              if(!nomStructure) throw "Veuillez pr√©ciser le nom de l'√©cole.";
              if(!posteFinal) throw "Veuillez pr√©ciser votre poste.";
              infoPro = `√âcole : ${nomStructure} (${typeEco})\nPoste : ${posteFinal}`;
          }
          else if(['librairie', 'bibliotheque'].includes(statut)) {
              if(!nomStructure) throw "Veuillez pr√©ciser le nom de l'√©tablissement.";
              if(!posteFinal) throw "Veuillez pr√©ciser votre poste.";
              infoPro = `√âtablissement : ${nomStructure}\nPoste : ${posteFinal}`;
          }
          else if(statut === 'psy') {
              if(!nomStructure) throw "Veuillez pr√©ciser le nom du Cabinet.";
              infoPro = `Cabinet : ${nomStructure}`;
          }

          // Contact
          const adresse = el('adresse').value.trim();
          if(!adresse) throw "Veuillez renseigner l'adresse.";

          const numTel = el('contactTel').value.trim();
          if(!numTel) throw "Veuillez renseigner le num√©ro de contact.";
          // Verif longueur
          const conf = configTel[pays];
          if(conf && conf.len > 0 && numTel.length !== conf.len) {
              throw `Le num√©ro pour ${pays} doit comporter ${conf.len} chiffres.`;
          }
          const fullTel = (el('indicatif').textContent) + numTel;

          const email = el('emailContact').value.trim();
          if(!email) throw "Veuillez renseigner l'e-mail.";

          // Commande
          const qte = getQuantite();
          if(qte <= 0) throw "Quantit√© invalide.";
          const total = el('total').value;
          if(!total) throw "Total non calcul√©.";

          // CONSTRUCTION MESSAGE
          const resume = 
            `*Nouvelle Commande - √âditions Nubi*\n` +
            `--------------------------------\n` +
            `üìç LIEU : ${pays}${detailsZone}\n` +
            `üë§ CLIENT : ${statut.toUpperCase()}\n` +
            `Identit√© : ${genre} ${prenoms} ${nom.toUpperCase()}\n` +
            (infoPro ? `${infoPro}\n` : '') +
            `üè† Adresse : ${adresse}\n` +
            `üìû Contact : ${fullTel}\n` +
            `üìß E-mail : ${email}\n` +
            `--------------------------------\n` +
            `üìñ LIVRE : Le Petit Nuage Qui Avait Peur de Pleuvoir\n` +
            `üì¶ QUANTIT√â : ${qte}\n` +
            `üí∞ TOTAL : ${total}\n` +
            `--------------------------------\n`;

          if(modeEnvoi === 'whatsapp') {
              const texteEncoded = encodeURIComponent(resume + "Bonjour, je souhaite valider cette commande.");
              window.open(`https://wa.me/${WHATSAPP_DESTINATION}?text=${texteEncoded}`, '_blank');
              confirmationTexte.textContent = "WhatsApp s'est ouvert. Envoyez le message pour valider.";
          } else {
              const sub = encodeURIComponent("Commande Livre - √âditions Nubi");
              const body = encodeURIComponent(resume + "\nMerci de bien vouloir traiter ma commande.");
              window.location.href = `mailto:${EMAIL_DESTINATION}?subject=${sub}&body=${body}`;
              confirmationTexte.textContent = "Votre application E-mail va s'ouvrir. Envoyez le mail pour valider.";
          }

          if(commandeForm) hide('commandeForm');
          if(confirmationCard) show('confirmationCard');
          location.hash = '#commande';

      } catch(e) {
          if(msgInfo) {
             msgInfo.textContent = "‚ö†Ô∏è " + e;
             msgInfo.style.color = "#d9534f";
          } else alert(e);
      }
  }

  const btnWa = el('btnWhatsapp');
  const btnEm = el('btnEmail');
  if(btnWa) btnWa.addEventListener('click', () => traiterEnvoi('whatsapp'));
  if(btnEm) btnEm.addEventListener('click', () => traiterEnvoi('email'));

  // Init
  updateFormFields();
});
</script>
</body>
</html>
